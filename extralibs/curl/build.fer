let os = import('std/os');
let vec = import('std/vec');
let sys = import('std/sys');
let builder = import('std/builder');

let build = builder.new().make_dll();

build.add_lib('-lcurl');
build.add_src('src/curl.cpp');

let res = build.build('curl');
if res != 0 || !sys.args.find('install') { sys.exit(res); }

sys.exit(build.install(inc_dirs = 'include/*', lib_dirs = 'build/*'));