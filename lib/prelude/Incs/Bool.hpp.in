#include "VM/VM.hpp"

namespace fer
{

FERAL_FUNC(boolCopy, 0, false,
           "  var.fn() -> Bool\n"
           "Copies the boolean data and returns it.")
{
    return vm.makeVar<VarBool>(loc, as<VarBool>(args[0])->getVal());
}

FERAL_FUNC(boolEQ, 1, false,
           "  var.fn(other) -> Bool\n"
           "Returns `true` if both `var` and `other` are equal.")
{
    if(!args[1]->is<VarBool>()) return vm.getFalse();
    return as<VarBool>(args[0])->getVal() == as<VarBool>(args[1])->getVal() ? vm.getTrue()
                                                                            : vm.getFalse();
}

FERAL_FUNC(boolNE, 1, false,
           "  var.fn(other) -> Bool\n"
           "Returns `true` if both `var` and `other` are not equal.")
{
    if(!args[1]->is<VarBool>()) return vm.getTrue();
    return as<VarBool>(args[0])->getVal() != as<VarBool>(args[1])->getVal() ? vm.getTrue()
                                                                            : vm.getFalse();
}

FERAL_FUNC(boolNot, 0, false,
           "  var.fn() -> Bool\n"
           "Returns `false` if `var` is `true`.")
{
    return as<VarBool>(args[0])->getVal() ? vm.getFalse() : vm.getTrue();
}

} // namespace fer